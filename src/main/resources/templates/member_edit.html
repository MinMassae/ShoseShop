<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>ä¼šå“¡æƒ…å ±ã®ä¿®æ­£</title>
  <style>
    form {
      max-width: 500px;
      margin: auto;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input[type="text"],
    input[type="email"],
    input[type="password"] {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
    }
  </style>
</head>
<body>

<!-- âœ… ìƒë‹¨ í—¤ë” -->
<header>
  <div id="logo" style="cursor:pointer;" onclick="location.href='/'">ğŸ‘Ÿ ShoseShop</div>
  <nav>
    <ul id="menu">
      <!-- ë¡œê·¸ì¸ ì—¬ë¶€ì— ë”°ë¼ ë™ì  êµ¬ì„± -->
    </ul>
  </nav>
</header>

<!-- âœ… ë§ˆì´í˜ì´ì§€ ë©”ë‰´ -->
<aside>
  <h3>ãƒã‚¤ãƒšãƒ¼ã‚¸ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h3>
  <ul>
    <li><a href="/mypage/edit">ä¼šå“¡æƒ…å ±ä¿®æ­£</a></li>
    <li><a href="/mypage/cart">ã‚«ãƒ¼ãƒˆãƒªã‚¹ãƒˆ</a></li>
    <li><a href="/mypage/orders">æ³¨æ–‡å±¥æ­´</a></li>
  </ul>
</aside>

<!-- âœ… ìˆ˜ì • í¼ -->
<main>
  <h2>ä¼šå“¡æƒ…å ±ã®ä¿®æ­£</h2>
  <form th:action="@{/mypage/edit}" method="post" th:object="${member}">
    <label>ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆä¿®æ­£ä¸å¯ï¼‰</label>
    <input type="text" th:value="*{userId}" readonly>

    <label>åå‰</label>
    <input type="text" th:field="*{name}" required>

    <label>ä½æ‰€</label>
    <input type="text" th:field="*{address}">

    <label>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
    <input type="email" th:field="*{email}">

    <label>é›»è©±ç•ªå·</label>
    <input type="text" th:field="*{phone}">

    <label>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆç©ºæ¬„ã®å ´åˆã¯å¤‰æ›´ãªã—ï¼‰</label>
    <input type="password" name="password">

    <button type="submit">ä¿å­˜ã™ã‚‹</button>
  </form>
</main>

<script>
  const token = localStorage.getItem("accessToken");
  const menu = document.getElementById("menu");

  if (token) {
    menu.innerHTML = `
      <li><a href="#" onclick="logout()">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a></li>
      <li><a href="/mypage">ãƒã‚¤ãƒšãƒ¼ã‚¸</a></li>
      <li><a href="/board">æ²ç¤ºæ¿</a></li>
    `;
  } else {
    menu.innerHTML = `
      <li><a href="/login">ãƒ­ã‚°ã‚¤ãƒ³</a></li>
      <li><a href="/register">ä¼šå“¡ç™»éŒ²</a></li>
      <li><a href="/board">æ²ç¤ºæ¿</a></li>
    `;
  }

  function logout() {
    localStorage.removeItem("accessToken");
    location.href = "/login";
  }
</script>

</body>
</html>